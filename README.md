# Parking Watcher в Docker

## Описание

Этот проект позволяет запускать приложение Parking Watcher в Docker-контейнере. Приложение автоматически клонирует свежий код из репозитория https://github.com/sbgart/Parking-Watcher при сборке образа.

## Требования

- Docker
- Docker Compose

## Установка и запуск

1. Скопируйте файлы в папку с проектом:

   ```bash
   cp .env.example .env
   ```

2. Отредактируйте файл `.env`, указав свои значения:

   - `REPO_BRANCH` - ветка репозитория для клонирования (по умолчанию: main)
   - `INTERVAL_SEC` - интервал проверки в секундах (по умолчанию: 60)
   - `TELEGRAM_BOT_TOKEN` - токен Telegram бота
   - `CHAT_ID` - ID чата для уведомлений

3. Запустите контейнер:
   ```bash
   docker-compose up -d
   ```

## Обновление

Чтобы обновить приложение до последней версии из репозитория:

1. Остановите контейнер:

   ```bash
   docker-compose down
   ```

2. Пересоберите образ:

   ```bash
   docker-compose build --no-cache
   ```

3. Запустите контейнер:
   ```bash
   docker-compose up -d
   ```

## Настройка ветки

Вы можете указать конкретную ветку или тег репозитория, изменив значение переменной `REPO_BRANCH` в файле `.env`.

## Хранение данных

Данные приложения (база данных SQLite и файлы состояния) сохраняются в локальной папке `data`, которая монтируется в контейнер. Это позволяет сохранять состояние между перезапусками и обновлениями контейнера.
